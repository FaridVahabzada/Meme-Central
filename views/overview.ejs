<!DOCTYPE html>
<html lang="en">

<head>
  <title>Meme Overview</title>
  <%- include('./partials/head.ejs') %>
</head>

<body class="position-relative" data-bs-spy="scroll" style="background-color: rgb(210, 238, 241);">
  <%- include('./partials/navbar.ejs') %>
    <div id="container" class="container border border-dark mt-5 mb-5 ps-0 pe-0 text-center">
      <table class="table" id="overviewTable">
        <thead>
          <tr>
            <th style="width: 40%; padding-top: 10px; padding-bottom: 10px; font-size: 18px;" scope="col">Image</th>
            <th style="width: 30%; padding-top: 10px; padding-bottom: 10px; font-size: 18px;" scope="col">Name</th>
            <th style="width: 30%; padding-top: 10px; padding-bottom: 10px; font-size: 18px;" scope="col">
              <form method="get" action="http://localhost:3000/memeoverview">
                <input type="text" placeholder="Type here..." name="memeName">
                <button type="submit">Search</button>
              </form>
            </th>
          </tr>
        </thead>
        <tbody>
          <% memes.forEach(function(meme) { %>
            <% if (!currentUser) { %>
              <tr>
                <td><img src="<%= meme.url %>" alt="<%= meme.name %>" height="20%" width="20%"></td>
                <td><%= meme.name %></td>
                <td></td>
              </tr>  
            <% } else {%>
              <tr style="background-color:<%= meme.backgroundColor %>;">
                <td><img src="<%= meme.url %>" alt="<%= meme.name %>" height="20%" width="20%"></td>
                <td><%= meme.name %></td>
                <td class="text-center"><button type="button" class="btn btn-info mx-auto" onclick="sendDetails('http\:\/\/localhost:3000\/memeoverview', <%= JSON.stringify(meme.name) %>)">Details</button></td>
              </tr>  
            <% } %>
          <% }); %>
        </tbody>
      </table>
    </div>

    <%- include('./partials/scripts.ejs') %>

</body>

</html>